---
title: "Review + tidying data"
output: html_notebook
---

First, lets clear the workspace.

## conditional programming practice

select all elements greater than 0 in the vector below using a logical vector

```{r ex_1}
vec <- rnorm(10000, 0, sd=10)
vec[vec > 0 ]
```

We'll be using some sample data from New York Air Quality Measurements. Notice how some of the data is missing

```{r example_1}
data("airquality")
airquality
```

the `is.na` function takes a vector as input and returns `TRUE` when there is a `NA`, and `FALSE` otherwise. 
Use the `is.na` function on the `Ozone` column and print the results


```{r ex_2}
is.na(airquality$Ozone)
```

try to calculate the mean for the `Ozone` column using the `mean` function

```{r ex_3}
mean(airquality$Ozone)
```

For the `Ozone` column values that are NOT(!) `NA`, and calculate the mean and store it in a variable

```{r ex_4}
mean_ozone <- mean(airquality$Ozone[!is.na(airquality$Ozone)])
```

select the `NA` values in the `Ozone` and set them to the mean value we calculated earlier

```{r ex_5}
airquality$Ozone[is.na(airquality$Ozone)] <- mean_ozone

```

use the `%in%` operator to select values from the `Month` column equal to 6 or 7. Store this in a variable

```{r ex_6}
six_or_seven <-  c(6, 7)
is_six_or_seven <-  airquality$Month %in% six_or_seven

```

use the above logical indexing vector to select rows from the `airquality` dataframe; keep all columns 

```{r ex_7}
aq_67 <-  airquality[ is_six_or_seven, ]
```

use the `ifelse` function to replace the numbers corresponding to each month with their actual names () 6 -> "June", 7->"July")

```{r ex_8}
aq_67$Month == 6
aq_67$month_string <- ifelse(test=aq_67$Month == 6, yes = 'June',no = 'July')
```

make a boxplot for the `Ozone` levels for each month, coloring boxplots by month. Remember to load the `ggplot` library using the `library` function

```{r ex_9}
ggplot(aq_67) + 
    geom_boxplot(aes(x=month_string, y=Ozone, fill = month_string))
```


## putting it all together 

Heres a slightly more complicated task.
Working with the `mpg` dataset, write a function that takes as an input the name of a car manufacturer, filters the `mpg` data based on that value, and then plots the a bar plot of the `class` column, colored by `class`. 
Note: when plotting a `ggplot` within a function you must `print` it out.

It might help to write out the code for the `if` statement first and then incorporate it into a function.

```{r ex_10}
data("mpg")
mpg


```

within the same function, add an `if` statement to check if the input of the function actually is in the mpg dataframe, and if its not print an error message and return from the function. This called error handling, and an important concept to know if your code ever has ro be used by someone else 

Operators and functions to use
- `%in%`
- `all/any`
    - `all` - takes a logical vector as input and  returns true if ALL elements in input are true
    - `any` - takes a logical vector as input and  returns true if at least one element in input is true
- `unique` - returns a vector of unique values from an input vector

Use the `?` command to see the documentation and example usage for these functions 

```{r ex_11}


```




